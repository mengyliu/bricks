(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(8),i=a.n(r),s=(a(15),a(2)),c=a(3),l=a(6),d=a(4),h=a(5),m=a(1),w=(a(17),window.THREE=a(19)),u=a(20);a(22),a(23);var v,p,b,f,g,y,C,M,S,k={yellow:"#fece0a",green:"#2e9850",red:"#ca3032",orange:"#f07438",blue:"#3a66a9"},E=!1,j=[],O=(new w.STLLoader,"#fece0a");function x(){(v=new w.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1e4)).position.set(500,800,1300),v.lookAt(0,0,0),f=new w.OrbitControls(v),(p=new w.Scene).background=new w.Color(1980761),p.receiveShadow=!0;var e=new w.BoxBufferGeometry(50,50,50),t=new w.MeshBasicMaterial({color:O,opacity:.5,transparent:!0});(M=new w.Mesh(e,t)).visible=!1,p.add(M);var a=new w.GridHelper(1e3,20,"#ffffff","#d0d0d0");p.add(a),C=new w.Raycaster,y=new w.Vector2,(i=new w.PlaneBufferGeometry(1e3,1e3)).rotateX(-Math.PI/2),l=new w.Mesh(i,new w.MeshBasicMaterial({visible:!1})),p.add(l),j.push(l);var o=new w.AmbientLight(16777215);p.add(o);var n=new w.DirectionalLight(16777215,.2);n.position.set(400,800,500),n.castShadow=!0,p.add(n),n.shadow.mapSize.width=8192,n.shadow.mapSize.height=8192,n.shadow.camera.near=-.5,n.shadow.camera.far=1500,n.shadow.camera.left=-700,n.shadow.camera.right=700,n.shadow.camera.top=500,n.shadow.camera.bottom=-600,(b=new w.WebGLRenderer({antialias:!0})).shadowMap.enabled=!0,b.shadowMap.type=w.PCFSoftShadowMap;var r=function(e){var t=new w.Vector3(20,1,20),a=new w.Geometry,o=new w.BoxGeometry(1e3,25,1e3),n=new w.CylinderGeometry(16,16,10,32);a.mergeMesh(new w.Mesh(o));for(var r=0;r<t.x;r++)for(var i=0;i<t.z;i++){var s=new w.Mesh(n,e);s.position.setX(50*r-50*(t.x-1)/2),s.position.setY(17.5),s.position.setZ(50*i-50*(t.z-1)/2),s.castShadow=!0,s.receiveShadow=!0,a.mergeMesh(s)}return a.mergeVertices(),a.castShadow=!0,a.receiveShadow=!0,new w.Mesh(a,e)}(new w.MeshStandardMaterial({color:"#d5d5d3",metalness:.1,roughness:.5}));r.castShadow=!0,r.receiveShadow=!0,r.position.set(0,-12.5,0),p.add(r);var i=new w.PlaneGeometry(1e3,1e3,32),s=w.ImageUtils.loadTexture("/bricks/signature.png"),c=new w.MeshLambertMaterial({map:s}),l=new w.Mesh(i,c);l.material.side=w.DoubleSide,l.rotation.set(w.Math.degToRad(90),0,0),l.position.set(0,-25,0),p.add(l),b.setPixelRatio(window.devicePixelRatio),b.setSize(window.innerWidth,window.innerHeight),document.querySelector(".World").appendChild(b.domElement),document.addEventListener("mousemove",N,!1),document.addEventListener("mousedown",L,!1),document.addEventListener("keydown",G,!1),document.addEventListener("keyup",W,!1),window.addEventListener("resize",T,!1)}function N(e){S&&(S.object.material.wireframe=!1),e.preventDefault(),y.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),C.setFromCamera(y,v);var t=C.intersectObjects(j);if(t.length>0&&!E){M.visible=!0;var a=t[0];M.position.copy(a.point).add(a.face.normal),M.position.divideScalar(50).floor().multiplyScalar(50).addScalar(25)}else if(t.length>0&&E){(a=t[0]).object!==g&&((S=a).object.material.wireframe=!0)}}function L(e){e.preventDefault(),y.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),C.setFromCamera(y,v);var t=C.intersectObjects(j);if(t.length>0){var a=t[0];if(E)a.object!==g&&(p.remove(a.object),j.splice(j.indexOf(a.object),1));else{var o=function(e){var t=new w.Vector3(1,1,1),a=new w.Geometry,o=new w.BoxGeometry(50,50,50),n=new w.CylinderGeometry(16,16,10,20);a.mergeMesh(new w.Mesh(o));for(var r=0;r<t.x;r++)for(var i=0;i<t.z;i++){var s=new w.Mesh(n,e);s.position.setX(50*r-50*(t.x-1)/2),s.position.setY(30),s.position.setZ(50*i-50*(t.z-1)/2),s.castShadow=!0,s.receiveShadow=!0,a.mergeMesh(s)}return a.mergeVertices(),a.castShadow=!0,a.receiveShadow=!0,new w.Mesh(a,e)}(new w.MeshStandardMaterial({color:O,metalness:.1,roughness:.5}));o.castShadow=!0,o.receiveShadow=!0,o.position.copy(a.point).add(a.face.normal),o.position.divideScalar(50).floor().multiplyScalar(50).addScalar(25.5),p.add(o),j.push(o)}}}function T(){v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix(),b.setSize(window.innerWidth,window.innerHeight)}function G(e){switch(e.keyCode){case 16:E=!0,M.visible=!1}}function W(e){switch(e.keyCode){case 16:E=!1,M.visible=!0,S&&(S.object.material.wireframe=!1)}}function B(e){requestAnimationFrame(B),u.update(),f.update(),b.render(p,v)}var z={light:{background:"#eeeeee",storeColor:"#d6d6d6"},dark:{background:"#222222",storeColor:"#051326"}},P=n.a.createContext(z.dark),H=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){this.props,this.context;return n.a.createElement("label",{className:"switch"},n.a.createElement("input",{type:"checkbox"}),n.a.createElement("span",{className:"slider round"}))}}]),t}(n.a.Component);H.contextType=P;function R(e){return n.a.createElement("div",{className:"themeButton"},n.a.createElement("div",{className:"themeText"},"Try this!"),n.a.createElement("label",{className:"switch"},n.a.createElement("input",{type:"checkbox",onChange:e.changeTheme}),n.a.createElement("span",{className:"slider round"})))}var D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={color:"yellow",disabled:!1,theme:z.dark},a.selectColor=a.selectColor.bind(Object(m.a)(Object(m.a)(a))),a.onMouseEnter=a.onMouseEnter.bind(Object(m.a)(Object(m.a)(a))),a.onMouseLeave=a.onMouseLeave.bind(Object(m.a)(Object(m.a)(a))),a.toggleTheme=a.toggleTheme.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"toggleTheme",value:function(e){var t,a=this.state.theme===z.dark?"#ecebeb":"#1e3959";t=a,new u.Tween(p.background).to(new w.Color(t),400).onUpdate(function(){p.background=p.background}).start(),this.setState(function(e){return{theme:e.theme===z.dark?z.light:z.dark}})}},{key:"selectColor",value:function(e){var t=e.target.className.split(" ")[1];t&&(this.setState({color:t}),O=k[t],M.material.color.setStyle(O),t&&(document.querySelector(".paletteContainer>.selected").classList.remove("selected"),e.target.classList.add("selected")))}},{key:"onMouseEnter",value:function(e){this.setState({disabled:!0})}},{key:"onMouseLeave",value:function(e){this.setState({disabled:!1})}},{key:"componentDidMount",value:function(){x(),B()}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(P.Provider,{value:this.state.theme},n.a.createElement("div",{className:"Toolbar"},n.a.createElement("div",{className:"logo"},n.a.createElement("img",{className:"logoimg",src:"/bricks/lego_name.png"})),n.a.createElement(R,{changeTheme:this.toggleTheme})),n.a.createElement("div",{className:"Store",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:{backgroundColor:this.state.theme.storeColor}},n.a.createElement("p",null,"Color"),n.a.createElement("div",{className:"paletteContainer"},n.a.createElement("div",{className:"palette yellow selected",onClick:this.selectColor,style:{borderColor:this.state.theme.storeColor}}),n.a.createElement("div",{className:"palette red",onClick:this.selectColor,style:{borderColor:this.state.theme.storeColor}}),n.a.createElement("div",{className:"palette orange",onClick:this.selectColor,style:{borderColor:this.state.theme.storeColor}}),n.a.createElement("div",{className:"palette green",onClick:this.selectColor,style:{borderColor:this.state.theme.storeColor}}),n.a.createElement("div",{className:"palette blue",onClick:this.selectColor,style:{borderColor:this.state.theme.storeColor}}))),n.a.createElement("div",{className:"World"})))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(24)}},[[9,2,1]]]);
//# sourceMappingURL=main.a0d2ef82.chunk.js.map