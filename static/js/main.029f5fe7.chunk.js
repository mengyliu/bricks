(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},18:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(3),r=a.n(i),s=(a(15),a(4)),c=a(5),l=a(7),d=a(6),w=a(8),m=a(1),h=(a(17),a(18),window.THREE=a(20));a(21),a(22);var v,p,u,f,g,S,b,y,M={yellow:"#fece0a",green:"#2e9850",red:"#ca3032",orange:"#f07438",blue:"#3a66a9"},C=!1,E=[],k=(new h.STLLoader,"#fece0a");function x(){(v=new h.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1e4)).position.set(500,800,1300),v.lookAt(0,0,0),f=new h.OrbitControls(v),(p=new h.Scene).background=new h.Color(1980761),p.receiveShadow=!0;var e=new h.BoxBufferGeometry(50,50,50),t=new h.MeshBasicMaterial({color:k,opacity:.5,transparent:!0});(y=new h.Mesh(e,t)).visible=!1,p.add(y);var a=new h.GridHelper(1e3,20,"#ffffff","#d0d0d0");p.add(a),b=new h.Raycaster,S=new h.Vector2,(r=new h.PlaneBufferGeometry(1e3,1e3)).rotateX(-Math.PI/2),l=new h.Mesh(r,new h.MeshBasicMaterial({visible:!1})),p.add(l),E.push(l);var n=new h.AmbientLight(16777215);p.add(n);var o=new h.DirectionalLight(16777215,.2);o.position.set(400,800,500),o.castShadow=!0,p.add(o),o.shadow.mapSize.width=8192,o.shadow.mapSize.height=8192,o.shadow.camera.near=-.5,o.shadow.camera.far=1500,o.shadow.camera.left=-700,o.shadow.camera.right=700,o.shadow.camera.top=500,o.shadow.camera.bottom=-600,(u=new h.WebGLRenderer({antialias:!0})).shadowMap.enabled=!0,u.shadowMap.type=h.PCFSoftShadowMap;var i=function(e){var t=new h.Vector3(20,1,20),a=new h.Geometry,n=new h.BoxGeometry(1e3,25,1e3),o=new h.CylinderGeometry(16,16,10,32);a.mergeMesh(new h.Mesh(n));for(var i=0;i<t.x;i++)for(var r=0;r<t.z;r++){var s=new h.Mesh(o,e);s.position.setX(50*i-50*(t.x-1)/2),s.position.setY(17.5),s.position.setZ(50*r-50*(t.z-1)/2),s.castShadow=!0,s.receiveShadow=!0,a.mergeMesh(s)}return a.mergeVertices(),a.castShadow=!0,a.receiveShadow=!0,new h.Mesh(a,e)}(new h.MeshStandardMaterial({color:"#d5d5d3",metalness:.1,roughness:.5}));i.castShadow=!0,i.receiveShadow=!0,i.position.set(0,-12.5,0),p.add(i);var r=new h.PlaneGeometry(1e3,1e3,32),s=h.ImageUtils.loadTexture("/bricks/signature.png"),c=new h.MeshLambertMaterial({map:s}),l=new h.Mesh(r,c);l.material.side=h.DoubleSide,l.rotation.set(h.Math.degToRad(90),0,0),l.position.set(0,-25,0),p.add(l),u.setPixelRatio(window.devicePixelRatio),u.setSize(window.innerWidth,window.innerHeight),document.querySelector(".World").appendChild(u.domElement),document.addEventListener("mousemove",j,!1),document.addEventListener("mousedown",L,!1),document.addEventListener("keydown",G,!1),document.addEventListener("keyup",O,!1),window.addEventListener("resize",N,!1)}function j(e){e.preventDefault(),S.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),b.setFromCamera(S,v);var t=b.intersectObjects(E);if(t.length>0){y.visible=!0;var a=t[0];y.position.copy(a.point).add(a.face.normal),y.position.divideScalar(50).floor().multiplyScalar(50).addScalar(25)}W()}function L(e){e.preventDefault(),S.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),b.setFromCamera(S,v);var t=b.intersectObjects(E);if(t.length>0){var a=t[0];if(C)a.object!==g&&(p.remove(a.object),E.splice(E.indexOf(a.object),1));else{var n=function(e){var t=new h.Vector3(1,1,1),a=new h.Geometry,n=new h.BoxGeometry(50,50,50),o=new h.CylinderGeometry(16,16,10,20);a.mergeMesh(new h.Mesh(n));for(var i=0;i<t.x;i++)for(var r=0;r<t.z;r++){var s=new h.Mesh(o,e);s.position.setX(50*i-50*(t.x-1)/2),s.position.setY(30),s.position.setZ(50*r-50*(t.z-1)/2),s.castShadow=!0,s.receiveShadow=!0,a.mergeMesh(s)}return a.mergeVertices(),a.castShadow=!0,a.receiveShadow=!0,new h.Mesh(a,e)}(new h.MeshStandardMaterial({color:k,metalness:.1,roughness:.5}));n.castShadow=!0,n.receiveShadow=!0,n.position.copy(a.point).add(a.face.normal),n.position.divideScalar(50).floor().multiplyScalar(50).addScalar(25.5),p.add(n),E.push(n)}W()}}function N(){v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)}function G(e){switch(e.keyCode){case 16:C=!0,y.visible=!1}}function O(e){switch(e.keyCode){case 16:C=!1,y.visible=!0}}function W(e){f.update(),u.render(p,v)}var z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={color:"yellow"},a.selectColor=a.selectColor.bind(Object(m.a)(Object(m.a)(a))),a}return Object(w.a)(t,e),Object(c.a)(t,[{key:"selectColor",value:function(e){var t=e.target.className.split(" ")[1];t&&(console.log(t),this.setState({color:t}),k=M[t],y.material.color.setStyle(k),t&&(document.querySelector(".paletteContainer>.selected").classList.remove("selected"),e.target.classList.add("selected")))}},{key:"componentDidMount",value:function(){x(),W()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"Toolbar"},o.a.createElement("div",{className:"logo"},o.a.createElement("img",{className:"logoimg",src:"/bricks/lego_name.png"}))),o.a.createElement("div",{className:"Store"},o.a.createElement("p",null,"Color"),o.a.createElement("div",{className:"paletteContainer"},o.a.createElement("div",{className:"palette yellow selected",onClick:this.selectColor}),o.a.createElement("div",{className:"palette red",onClick:this.selectColor}),o.a.createElement("div",{className:"palette orange",onClick:this.selectColor}),o.a.createElement("div",{className:"palette green",onClick:this.selectColor}),o.a.createElement("div",{className:"palette blue",onClick:this.selectColor}))),o.a.createElement("div",{className:"World"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(23)}},[[9,2,1]]]);
//# sourceMappingURL=main.029f5fe7.chunk.js.map